<h3>Room List</h3>
<p-table
  *ngIf="roomList != null"
  class="flex flex-column"
  [value]="roomList"
  dataKey="name"
  rowExpandMode="single"
  styleClass="p-datatable-striped"
>
  <ng-template pTemplate="header">
    <tr>
      <td>Room Name</td>
      <td>By:</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-room let-rowIndex="rowIndex">
    <tr [pSelectableRow]="room" [ngStyle]="{ border: '1px solid gray' }">
      <td (click)="onRoomDescriptionClick(rowIndex)" [pRowToggler]="room">
        {{ room.name }}
      </td>
      <td>
        <p-badge
          value="{{ room.ownerEmail }}"
          (click)="showUserDialog(room.ownerEmail)"
        ></p-badge>

        <button
          type="button"
          pButton
          class="p-button-outlined p-button-rounded small-button"
          (click)="enterRoom(room.roomId)"
          style="float: right"
        >
          Enter
        </button>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-rowData id="expandedtable">
    <tr id="expandedtable" [ngStyle]="{ 'background-color': 'aqua' }">
      <td>Description:</td>
      <td>{{ rowData.description }}</td>
    </tr>
    <tr
      *ngIf="selectedRoomCurrentTrack != null"
      id="expandedtable"
      [ngStyle]="{ 'background-color': 'aqua' }"
    >
      <td>Current Track:</td>
      <td>
        {{ selectedRoomCurrentTrack.name }}
        by
        {{ selectedRoomCurrentTrack.artists[0].name }}
      </td>
    </tr>
    <tr
      *ngIf="selectedRoomCurrentTrack != null"
      id="expandedtable"
      [ngStyle]="{ 'background-color': 'aqua' }"
    >
      <td>
        <img [src]="selectedRoomCurrentTrack.album.images[2].url" />
      </td>
      <td></td>
    </tr>
    <tr id="expandedtable" [ngStyle]="{ 'background-color': 'aqua' }">
      <td>Users Inside: {{ rowData.userCount }}</td>
      <td>
        <table *ngIf="selectedRoomUserList != null">
          <tr *ngFor="let user of selectedRoomUserList">
            {{
              user
            }}
          </tr>
        </table>
      </td>
    </tr>
  </ng-template>
</p-table>
<div class="flex flex-row-reverse">
  <button
    pButton
    type="button"
    [routerLink]="['/rooms/add']"
    class="p-button-outlined p-button-rounded small-button absolute bottom-0 addRoom"
  >
    + Add Room
  </button>
</div>
<div>room description shows on click, usercount, users inside...?</div>
<!-- User Profile Dialog -->
<div class="card flex justify-content-center" *ngIf="dialogInfo != null">
  <p-dialog
    header="{{ dialogInfo.email }}"
    [(visible)]="dialogVisible"
    [style]="{ width: '75vw' }"
  >
    <p>Info Here for {{ dialogInfo.email }}</p>
    <button pButton [disabled]="true">Add Friend</button>
  </p-dialog>
</div>

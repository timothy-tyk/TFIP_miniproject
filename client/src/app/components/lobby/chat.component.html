<div class="lobby-chat-div">
  <p-card>
    <div class="grid">
      <div class="col-5" style="padding: 0">
        <button
          pButton
          class="p-button-rounded small-button"
          type="submit"
          style="height: 40px; margin: 0 auto; display: flex"
        >
          <p class="font-20">Invite +</p>
        </button>
      </div>
      <div class="col-7" style="padding-bottom: 0px">
        <p
          class="font-24"
          style="margin-top: 0px; margin-bottom: 5px; text-align: center"
        >
          Lobby Chat
        </p>
      </div>
    </div>
    <div class="lobbyChat">
      <table class="flex flex-column">
        <tr
          *ngFor="let msg of chatlog"
          [ngClass]="msg.email == userInfo.email ? 'userMessage' : ''"
        >
          <!-- <td>{{ msg.timestamp | date : "medium" }}</td> -->

          <div style="margin-top: 0px">
            <td class="chat-badge-td">
              <p-badge
                value="{{ msg.email }}"
                (click)="showDialog(msg.email)"
              ></p-badge>
            </td>
            <td class="chat-msg-td">
              <p class="font-12" style="margin: 0 1vw">
                {{ msg.message }}
              </p>
            </td>
          </div>
        </tr>
      </table>
    </div>

    <!-- User Profile Dialog -->
    <div class="card flex justify-content-center" *ngIf="dialogInfo != null">
      <p-dialog
        header="{{ dialogInfo.email }}"
        [(visible)]="dialogVisible"
        [style]="{ width: '75vw' }"
      >
        <p>Info Here for {{ dialogInfo.email }}</p>
        <button
          pButton
          type="button"
          (click)="addFriend(dialogInfo.email)"
          [disabled]=""
          class="p-button-outlined p-button-rounded small-button"
        >
          Add Friend
        </button>
      </p-dialog>
    </div>
  </p-card>
</div>
<div class="absolute bottom-0" style="margin-bottom: 60px; margin-top: 2vh">
  <form [formGroup]="chatForm" (ngSubmit)="onSubmitMessage()">
    <table>
      <tr class="textwrapper">
        <div>
          <textarea
            pInputTextarea
            formControlName="message"
            styleClass="lobby"
          ></textarea>
          <div class="flex flex-row-reverse">
            <button
              pButton
              class="p-button-rounded small-button"
              type="submit"
              style="margin-top: -40px; margin-right: 5px"
            >
              Send
            </button>
          </div>
        </div>
      </tr>
    </table>
  </form>
</div>
